<%- include('../shared/header') %>

<main class="container mx-auto lg:px-16 px-4 py-12 mt-14">
  <div class="flex flex-col lg:flex-row gap-8">
    <!-- Left Column -->
    <div class="w-full lg:w-1/3 p-8 bg-[var(--color-white)] rounded-2xl shadow-xl transform hover:scale-105 transition-all duration-500">
      <h1 class="text-3xl font-bold text-[var(--color-black)] mb-6">Get in Touch</h1>
      
      <!-- Call To Us Section -->
      <div class="mb-10">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-14 h-14 rounded-full bg-[var(--color-red-500)] flex items-center justify-center shadow-md">
            <svg class="w-7 h-7 text-[var(--color-white)]" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h11M9 21h3M5 14h1m8 0h1m-1 0a3 3 0 11-6 0m9-4h2a2 2 0 002-2V5a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2z"></path>
            </svg>
          </div>
          <h2 class="text-2xl font-semibold text-[var(--color-black)]">Call Us</h2>
        </div>
        <p class="text-[var(--color-gray-600)] mb-3 text-sm">Available 24/7, 7 days a week.</p>
        <p class="text-[var(--color-black)] font-medium text-lg"><%= contactInfo.phoneNumber || "Not Available" %></p> <!-- Display phone number -->
      </div>

      <!-- Write To Us Section -->
      <div>
        <div class="flex items-center gap-4 mb-4">
          <div class="w-14 h-14 rounded-full bg-[var(--color-red-500)] flex items-center justify-center shadow-md">
            <svg class="w-7 h-7 text-[var(--color-white)]" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12H8m8-4H8m8 8H8m8 4H8m0-12a4 4 0 110 8 4 4 0 110-8zm0 12a4 4 0 110 8 4 4 0 110-8z"></path>
            </svg>
          </div>
          <h2 class="text-2xl font-semibold text-[var(--color-black)]">Write To Us</h2>
        </div>
        <p class="text-[var(--color-gray-600)] mb-3 text-sm">Response within 24 hours.</p>
        <p class="text-[var(--color-black)] font-medium text-lg"><%= contactInfo.customerEmail|| "Not Available" %></p> <!-- Display customer email -->
        <p class="text-[var(--color-black)] font-medium text-lg"><%= contactInfo.supportEmail || "Not Available" %></p> <!-- Display support email -->
      </div>
    </div>


    <!-- Right Column - Form -->
    <div class="w-full lg:w-2/3 p-8 bg-[var(--color-white)] rounded-2xl shadow-xl">
      <h1 class="text-3xl font-bold text-[var(--color-black)] mb-6 text-center lg:text-left">Send Us a Message</h1>

      <!-- Success & Error Messages -->
      <% if (successMessage) { %>
        <div class="text-[var(--color-green-500)] text-center font-medium mb-6 bg-[var(--color-green-100)] p-3 rounded-lg shadow-inner animate-fade-in">
          <%= successMessage %>
        </div>
      <% } %>
      <% if (errorMessage) { %>
        <div class="text-[var(--color-red-500)] text-center font-medium mb-6 bg-[var(--color-red-100)] p-3 rounded-lg shadow-inner animate-fade-in">
          <%= errorMessage %>
        </div>
      <% } %>

      <!-- Contact Form -->
      <form id="contactForm" action="/pages/contact" method="POST" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Name Field -->
          <div class="relative">
            <input 
              type="text" 
              id="name" 
              name="name" 
              placeholder="Your Name *" 
              value="<%= user ? user.name : '' %>" 
              class="w-full p-4 bg-[var(--color-gray-50)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-red-500)] text-[var(--color-black)] placeholder-[var(--color-gray-400)] transition-all duration-300 shadow-sm hover:shadow-md" 
              required>
            <div id="nameError" class="hidden text-[var(--color-red-500)] text-sm mt-1 absolute -bottom-6 left-0"></div>
          </div>

          <!-- Email Field -->
          <div class="relative">
            <input 
              type="email" 
              id="email" 
              name="email" 
              placeholder="Your Email *" 
              value="<%= user ? user.email : '' %>" 
              class="w-full p-4 bg-[var(--color-gray-50)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-red-500)] text-[var(--color-black)] placeholder-[var(--color-gray-400)] transition-all duration-300 shadow-sm hover:shadow-md" 
              required>
            <div id="emailError" class="hidden text-[var(--color-red-500)] text-sm mt-1 absolute -bottom-6 left-0"></div>
          </div>

          <!-- Phone Field -->
          <div class="relative">
            <input 
              type="tel" 
              id="phone" 
              name="phone" 
              placeholder="Your Phone *" 
              class="w-full p-4 bg-[var(--color-gray-50)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-red-500)] text-[var(--color-black)] placeholder-[var(--color-gray-400)] transition-all duration-300 shadow-sm hover:shadow-md" 
              required>
            <div id="phoneError" class="hidden text-[var(--color-red-500)] text-sm mt-1 absolute -bottom-6 left-0"></div>
          </div>
        </div>

        <!-- Message Field -->
        <div class="relative">
          <textarea 
            id="message" 
            name="message" 
            placeholder="Your Message" 
            rows="6" 
            class="w-full p-4 bg-[var(--color-gray-50)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-red-500)] text-[var(--color-black)] placeholder-[var(--color-gray-400)] resize-none transition-all duration-300 shadow-sm hover:shadow-md"></textarea>
          <div id="messageError" class="hidden text-[var(--color-red-500)] text-sm mt-1 absolute -bottom-6 left-0"></div>
        </div>

        <!-- Submit Button -->
        <div class="flex justify-end">
          <button 
            type="submit" 
            class="bg-[var(--color-red-500)] text-[var(--color-white)] px-10 py-3 rounded-lg hover:bg-[var(--color-red-700)] transition-all duration-300 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-1">
            Send Message
          </button>
        </div>
      </form>
    </div>
  </div>
</main>



<style>
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
</style>

<script src="/js/contact.js"></script>

<%- include('../shared/footer') %>