<%- include('../shared/header') %>
<!-- Orders Table (Responsive) -->
<main class="flex-grow p-8 ml-0 sm:mt-7 mt-9 mb-8 overflow-hidden">
    <!-- <h1 class="text-4xl font-bold   ">Products List</h1> -->
 <!-- Main Content -->
 <div class="container mx-auto p-6 mt-8">
    <!-- Product Table (Responsive) -->
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <div class="overflow-x-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-700">
            <table class="min-w-full table-fixed" id="productTable">
                <thead class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300">
                    <tr>
                        <th class="px-4 py-2 text-left w-1/6">Product Image</th>
                        <th class="px-4 py-2 text-left w-1/6">Product Name</th>
                        <th class="px-4 py-2 text-left w-1/6">Category</th>
                        <th class="px-4 py-2 text-left w-1/6">Quantity</th>
                        <th class="px-4 py-2 text-left w-1/6">Price</th>
                        <th class="px-4 py-2 text-left w-1/12">Actions</th>
                    </tr>
                </thead>
                <tbody class="text-gray-700 dark:text-gray-300" id="productList">
                    <!-- Example Row -->
                    <tr class="border-t border-gray-200 dark:border-gray-600">
                        <td class="px-4 py-2">
                            <img src="/assests/pics (3).jpeg" alt="Product Image" class="w-16 h-16 object-cover rounded">
                        </td>
                        <td class="px-4 py-2">Product Name</td>
                        <td class="px-4 py-2">New Arrival</td>
                        <td class="px-4 py-2">23</td>
                        <td class="px-4 py-2">$99.99</td>
                        <td class="pr-5 py-2 flex items-center gap-3 mt-3">
                            <a href="#" class="px-4 py-2 text-blue-600 view-btn" data-product-id="1">View</a>
                        </td>
                    </tr>
                    <!-- Add more rows dynamically here -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Modal (Popup) -->
<div id="productModal" class="fixed inset-0 bg-gray-900 bg-opacity-50  justify-center items-center flex">
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md max-w-lg w-full">
        <div class="flex justify-between items-center">
            <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100" id="modalTitle">Product Details</h3>
            <button id="closeModal" class="text-gray-500 dark:text-gray-400">&times;</button>
        </div>
        <div id="modalContent" class="mt-4">
            <!-- Product details will be dynamically inserted here -->
        </div>
        <div class="mt-4">
            <button id="closeModalBtn" class="px-4 py-2 text-white bg-blue-600 rounded-lg">
                Close
            </button>
        </div>
    </div>
</div>

  
  <!-- Pagination or Entries Bar -->
  <div class="mt-4 flex justify-center">
    <nav aria-label="Page navigation example">
      <ul class="flex items-center space-x-2 h-8 text-sm">
        <!-- Previous Button -->
        <li>
          <a href="#"
            class="pagination-btn flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
            <span class="sr-only">Previous</span>
            <i class="bi bi-arrow-bar-left"></i>
          </a>
        </li>
        <!-- Pagination Links -->
        <li>
          <a href="#"
            class="pagination-link flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</a>
        </li>
        <li>
          <a href="#"
            class="pagination-link flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</a>
        </li>
        <li>
          <a href="#"
            class="pagination-link z-10 flex items-center justify-center px-3 h-8 leading-tight text-red-600 border border-red-300 bg-red-50 hover:bg-red-100 hover:text-red-400 dark:border-gray-700 dark:bg-gray-700 dark:text-white">3</a>
        </li>
        <li>
          <a href="#"
            class="pagination-link flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</a>
        </li>
        <li>
          <a href="#"
            class="pagination-link flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</a>
        </li>
        <!-- Next Button -->
        <li>
          <a href="#"
            class="pagination-btn flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
            <span class="sr-only">Next</span>
            <i class="bi bi-arrow-bar-right"></i>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</main>  

 <!-- JavaScript -->
 <script>
    document.addEventListener("DOMContentLoaded", function () {
        const viewButtons = document.querySelectorAll(".view-btn");
        const modal = document.getElementById("productModal");
        const closeModalBtn = document.getElementById("closeModalBtn");
        const closeModal = document.getElementById("closeModal");
        const modalTitle = document.getElementById("modalTitle");
        const modalContent = document.getElementById("modalContent");

        // Sample product data (you can replace this with actual data)
        const products = [
            {
                id: 1,
                name: "Product Name",
                category: "New Arrival",
                quantity: 23,
                price: "$99.99",
                description: "This is a detailed description of the product.",
                image: "/assests/pics (3).jpeg"
            },
            {
                id: 2,
                name: "New Shirt",
                category: "New Arrival",
                quantity: 23,
                price: "$49.99",
                description: "This is another product's description.",
                image: "/assests/pics (3).jpeg"
            }
            // Add more products here...
        ];

        // Function to open modal with product details
        function openModal(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                modalTitle.textContent = product.name;
                modalContent.innerHTML = `
                    <div class="flex gap-4">
                        <img src="${product.image}" alt="${product.name}" class="w-32 h-32 object-cover rounded">
                        <div>
                            <p><strong>Category:</strong> ${product.category}</p>
                            <p><strong>Quantity:</strong> ${product.quantity}</p>
                            <p><strong>Price:</strong> ${product.price}</p>
                            <p><strong>Description:</strong> ${product.description}</p>
                        </div>
                    </div>
                `;
                modal.classList.remove("hidden");
            }
        }

        // Close modal
        closeModalBtn.addEventListener("click", () => {
            modal.classList.add("hidden");
        });

        closeModal.addEventListener("click", (e) => {
            if (e.target === modal) {
                modal.classList.add("hidden");
            }
        });

        // Add event listeners to "View" buttons
        viewButtons.forEach(button => {
            button.addEventListener("click", (e) => {
                const productId = parseInt(button.getAttribute("data-product-id"));
                openModal(productId);
            });
        });
    });
</script>

<%- include('../shared/footer') %>
